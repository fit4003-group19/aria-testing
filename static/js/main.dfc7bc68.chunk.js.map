{"version":3,"sources":["logo.svg","context/MapContext.js","components/Map.js","hooks/useTestCases.js","components/Controls.js","App.js","reportWebVitals.js","index.js"],"names":["MapContext","createContext","MapProvider","props","useState","mapPanZoom","setMapPanZoom","process","svgPath","setSvgPath","roomLabel","setRoomLabel","roomDescription","setRoomDescription","roomFlag","setRoomFlag","rootFocus","useRef","Provider","value","focusRoot","current","focus","children","svgPanZoom","require","Map","svgEl","useContext","classes","makeStyles","theme","map","flex","margin","border","svg","height","width","useStyles","className","handleKeys","onKeyEvent","src","onError","e","onLoad","foo","zoomEnabled","dblClickZoomEnabled","preventMouseEventsDefault","zoomAtPoint","x","y","innerRef","useTestCases","description","url","checked","testCases","setTestCases","attributes","display","flexDirection","backgroundColor","attribute","stroke","strokeWidth","buttons","justify","Controls","testCase","i","style","marginRight","color","ButtonGroup","size","variant","href","target","textDecoration","Button","onClick","j","onTestCaseClick","zoomIn","zoomOut","resetZoom","root","minHeight","App","flexBoxClasses","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dfc7bc68.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import { createContext, useState, useRef } from \"react\";\n\n//create a context, with createContext api\nexport const MapContext = createContext();\n\nconst MapProvider = (props) => {\n  // this state will be shared with all components\n  const [mapPanZoom, setMapPanZoom] = useState();\n  const [svgPath, setSvgPath] = useState(\n    `${process.env.PUBLIC_URL}/svg/focus-test.svg`\n  );\n  const [roomLabel, setRoomLabel] = useState();\n  const [roomDescription, setRoomDescription] = useState();\n  const [roomFlag, setRoomFlag] = useState();\n  const rootFocus = useRef(null);\n\n  const focusRoot = () => {\n    if (rootFocus.current) {\n      rootFocus.current.focus();\n    }\n  };\n\n  return (\n    <MapContext.Provider\n      value={{\n        mapPanZoom,\n        setMapPanZoom,\n        rootFocus,\n        focusRoot,\n        roomLabel,\n        setRoomLabel,\n        roomDescription,\n        setRoomDescription,\n        roomFlag,\n        setRoomFlag,\n        svgPath,\n        setSvgPath,\n      }}\n    >\n      {props.children}\n    </MapContext.Provider>\n  );\n};\n\nexport default MapProvider;\n","import { makeStyles } from \"@material-ui/styles\";\nimport React, { useRef, useContext, useEffect } from \"react\";\nimport { MapContext } from \"../context/MapContext\";\nimport SVG from \"react-inlinesvg\";\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\nconst svgPanZoom = require(\"svg-pan-zoom\");\n\nfunction Map() {\n  // useRef References\n  const svgEl = useRef(null);\n  const {\n    mapPanZoom,\n    setMapPanZoom,\n    focusRoot,\n    setRoomLabel,\n    setRoomDescription,\n    setRoomFlag,\n    svgPath,\n  } = useContext(MapContext);\n\n  // CSS\n  const useStyles = makeStyles((theme) => ({\n    map: {\n      flex: 3,\n      margin: 10,\n      border: \"8px black\",\n    },\n    svg: {\n      height: \"100%\",\n      width: \"100%\",\n    },\n  }));\n\n  // Placeholder\n  const onError = (e) => {};\n\n  // Placeholder\n  const onLoad = (e) => {\n    // Initialize SVG Pan Zoom\n    const foo = svgPanZoom(svgEl.current, {\n      zoomEnabled: true,\n      dblClickZoomEnabled: false,\n      preventMouseEventsDefault: false,\n      // controlIconsEnabled: false,\n    });\n    foo.zoomAtPoint(1, { x: 447, y: 183 });\n    setMapPanZoom(foo);\n  };\n\n  // According to W3C draft, the focus event is fired AFTER the previous element has fired the blur event\n  // ****** Focus + Blur Fuctions (START) ******\n  const onLayerFocus = (e) => {\n    const layer = e.target;\n    const { layerFlag } = layer.dataset;\n    const roomLabelledBy = layer.getAttribute(\"aria-labelledby\");\n    const roomDescribedBy = layer.getAttribute(\"aria-describedby\");\n    const roomLabel = svgEl.current.getElementById(roomLabelledBy).textContent;\n    const roomDescription =\n      svgEl.current.getElementById(roomDescribedBy).textContent;\n    setRoomLabel(roomLabel);\n    setRoomDescription(roomDescription);\n    setRoomFlag(layerFlag);\n  };\n\n  const onLayerBlur = (e) => {\n    setRoomLabel(null);\n    setRoomDescription(null);\n    setRoomFlag(null);\n  };\n  // ****** Focus + Blur Fuctions (END) ******\n\n  const classes = useStyles();\n\n  return (\n    <KeyboardEventHandler\n      className={classes.map}\n      handleKeys={[\"esc\"]}\n      onKeyEvent={focusRoot}\n    >\n      <SVG\n        className={classes.svg}\n        src={svgPath}\n        onError={onError}\n        onLoad={onLoad}\n        innerRef={svgEl}\n      />\n    </KeyboardEventHandler>\n  );\n}\n\nexport default Map;\n","import { useState } from \"react\";\nconst useTestCases = () => {\n  const [testCases, setTestCases] = useState([\n    {\n      description: \"aria-labelledby, aria-describedby\",\n      url: `${process.env.PUBLIC_URL}/test_cases/0001.svg`,\n      checked: false,\n    },\n    {\n      description: \"aria-label, aria-describedby\",\n      url: `${process.env.PUBLIC_URL}/test_cases/0002.svg`,\n      checked: false,\n    },\n    {\n      description: \"title tag\",\n      url: `${process.env.PUBLIC_URL}/test_cases/0003.svg`,\n      checked: false,\n    },\n    {\n      description: \"desc tag\",\n      url: `${process.env.PUBLIC_URL}/test_cases/0004.svg`,\n      checked: false,\n    },\n    {\n      description: \"text tag\",\n      url: `${process.env.PUBLIC_URL}/test_cases/0005.svg`,\n      checked: false,\n    },\n    {\n      description: \"<title id=> tag\",\n      url: `${process.env.PUBLIC_URL}/test_cases/0006.svg`,\n      checked: false,\n    },\n  ]);\n\n  return { testCases, setTestCases };\n};\n\nexport default useTestCases;\n","import React, { useContext, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { MapContext } from \"../context/MapContext\";\nimport useTestCases from \"../hooks/useTestCases\";\nimport { Button } from \"@material-ui/core\";\nimport { ButtonGroup } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  attributes: {\n    flex: 1,\n    margin: 10,\n    display: \"flex\",\n    flexDirection: \"column\",\n    backgroundColor: \"whitesmoke\",\n  },\n  attribute: { flex: 4, margin: 10, stroke: \"black\", strokeWidth: 5 },\n  buttons: {\n    flex: 1,\n    margin: 10,\n    display: \"flex\",\n    justify: \"space-between\",\n    flexDirection: \"row\",\n  },\n}));\n\nfunction Controls() {\n  const classes = useStyles();\n  const { mapPanZoom, setSvgPath } = useContext(MapContext);\n  const { testCases, setTestCases } = useTestCases();\n\n  const onTestCaseClick = (i) => {\n    setTestCases(\n      testCases.map((testCase, j) => {\n        return {\n          ...testCase,\n          checked: i == j ? true : false,\n        };\n      })\n    );\n    setSvgPath(testCases[i].url);\n  };\n\n  return (\n    <div className={classes.attributes}>\n      <div className={classes.attribute}>\n        <h1>Testing Harness</h1>\n        {testCases.map((testCase, i) => {\n          return (\n            <>\n              <div>\n                <span\n                  style={{\n                    marginRight: \"1rem\",\n                    color: testCase.checked ? \"red\" : \"black\",\n                  }}\n                >\n                  {testCase.description}\n                </span>\n                <ButtonGroup\n                  size=\"small\"\n                  aria-label=\"small button group\"\n                  variant=\"contained\"\n                >\n                  <a\n                    href={testCase.url}\n                    target=\"_blank\"\n                    style={{ textDecoration: \"none\" }}\n                  >\n                    <Button>RAW SVG</Button>\n                  </a>\n                  <Button onClick={() => onTestCaseClick(i)}>Change</Button>\n                </ButtonGroup>\n              </div>\n            </>\n          );\n        })}\n      </div>\n      <div className={classes.buttons}>\n        {mapPanZoom && (\n          <>\n            <label>\n              Zoom In\n              <button onClick={() => mapPanZoom.zoomIn()}>+</button>\n            </label>\n            <label>\n              Zoom Out\n              <button onClick={() => mapPanZoom.zoomOut()}>-</button>\n            </label>\n            <label>\n              Reset\n              <button onClick={() => mapPanZoom.resetZoom()}>x</button>\n            </label>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Controls;\n","import React, { useRef, useState } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Map from \"./components/Map\";\nimport Controls from \"./components/Controls\";\nimport MapProvider from \"./context/MapContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    minHeight: \"90vh\",\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"row\",\n  },\n}));\n\nfunction App() {\n  const classes = useStyles();\n  const flexBoxClasses = useStyles();\n\n  return (\n    <MapProvider>\n      <div className={flexBoxClasses.root}>\n        <Map />\n        <Controls />\n      </div>\n    </MapProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}